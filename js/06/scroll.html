<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <style>
        ul{list-style: none; padding: 30px 0; border-top: 1px solid #666;}
        li{border-bottom: 1px solid #aaa;}
    </style>

</head>
<body>
    <ul>
        
    </ul>
    <script>
        let num = 1;
        function createText(){
            let str = "";
            for(let i = 0; i<20; i++){
                str += `
                <li>
                    <h2>${num++} 제목</h2>
                    <p>내용</p>
                </li>
                `
            }
            return str;
        };
        document.querySelector("ul").innerHTML += createText();
        

        window.onscroll = function(ev){
            // scrollY : 수직으로 얼마나 스크롤됐는지 픽셀 단위로 반환
            let sy = this.scrollY;
            // offsetHeight : 수직의 패딩과 테두리 높이, 요소의 크기 + padding + ScrollBar + border 의 크기
            let dh = document.body.offsetHeight;
            // innerHeight : 스크롤 막대(있는 경우)의 높이를 포함하여 창의 내부 높이를 픽셀 단위로 반환, 안쪽 창 영역의 높이와 너비
            let wih = this.innerHeight;
            console.log(sy, dh, wih, dh-sy-wih);
            if(dh-sy-wih <= 300){
                document.querySelector("ul").innerHTML += createText();
            }
        }

        // document.querySelector("ul").innerHTML += createText();
        // document.querySelector("ul").innerHTML += createText();

        // window 객체 안에 document 객체
        // document 객체는 window에 로드되는 HTML 문서 그 자체
        // document객체와 window객체에서 수용 가능한 eventList가 다르기 때문에 각 용도에 맞게 호출
        // window(document(html 문서)) >> 따라서 window가 document를 포함하지만, 
        //                                html 요소가 아니라서 getElementById 등을 호춯 할 수 없음

        // mouseenter, mouseleave, mouseover, mouseout, mousemove
        
    </script>    
</body>
</html>